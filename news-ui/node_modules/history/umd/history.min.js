!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.History=t():n.History=t()}(this,function(){return function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return n[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0,t.locationsAreEqual=t.createMemoryHistory=t.createHashHistory=t.createBrowserHistory=void 0;var r=e(6);Object.defineProperty(t,"locationsAreEqual",{enumerable:!0,get:function(){return r.locationsAreEqual}});var i=e(8),a=o(i),u=e(9),c=o(u),s=e(10),f=o(s);t.createBrowserHistory=a["default"],t.createHashHistory=c["default"],t.createMemoryHistory=f["default"]},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=e(3),i=(o(r),e(2)),a=o(i),u=function(){var n=null,t=function(t){return"string"!=typeof t&&"function"!=typeof t?(0,a["default"])(!1):void 0,n=t,function(){n===t&&(n=null)}},e=function(t,e,o,r){if(n)if("function"==typeof o){var i="function"==typeof n?n(t,e):n;"string"==typeof i?o(i,r):r(i!==!1)}else r(!0);else r(!0)},o=[],r=function(n){return o.push(n),function(){o=o.filter(function(t){return t!==n})}},i=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return o.forEach(function(n){return n.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:e,appendListener:r,transitionTo:i}};t["default"]=u},function(n,t,e){"use strict";var o=function(n,t,e,o,r,i,a,u){if(!n){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[e,o,r,i,a,u],f=0;c=new Error(t.replace(/%s/g,function(){return s[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};n.exports=o},function(n,t,e){"use strict";var o=function(){};n.exports=o},function(n,t){"use strict";t.__esModule=!0;t.addEventListener=function(n,t,e){return n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)},t.removeEventListener=function(n,t,e){return n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)},t.getConfirmation=function(n,t){return t(window.confirm(n))},t.supportsHistory=function(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")===-1&&n.indexOf("Android 4.0")===-1||n.indexOf("Mobile Safari")===-1||n.indexOf("Chrome")!==-1||n.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}},function(n,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(n,t){"use strict";t.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},o=function r(n,t){if(null==n)return n==t;var o="undefined"==typeof n?"undefined":e(n),i="undefined"==typeof t?"undefined":e(t);if(o!==i)return!1;if(Array.isArray(n))return!(!Array.isArray(t)||n.length!==t.length)&&n.every(function(n,e){return r(n,t[e])});if("object"===o){var a=Object.keys(n),u=Object.keys(t);return a.length===u.length&&a.every(function(e){return r(n[e],t[e])})}return n===t};t.locationsAreEqual=function(n,t){return n.path===t.path&&n.key===t.key&&o(n.state,t.state)}},function(n,t){"use strict";t.__esModule=!0;t.addLeadingSlash=function(n){return"/"===n.charAt(0)?n:"/"+n},t.stripLeadingSlash=function(n){return"/"===n.charAt(0)?n.substr(1):n},t.stripPrefix=function(n,t){return 0===n.indexOf(t)?n.substr(t.length):n}},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(3),a=(o(i),e(2)),u=o(a),c=e(7),s=e(1),f=o(s),l=e(5),d=e(4),h="popstate",v="hashchange",p=function(){return!1},y=function(){try{return window.history.state||{}}catch(n){return{}}},g=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:(0,u["default"])(!1);var t=(0,d.supportsHistory)(),e=!(0,d.supportsPopStateOnHashChange)(),o=n.basename,i=void 0===o?"":o,a=n.forceRefresh,s=void 0!==a&&a,g=n.getUserConfirmation,w=void 0===g?d.getConfirmation:g,m=n.keyLength,x=void 0===m?6:m,P=function(n){var t=n||{},e=t.key,o=t.state,r=window.location,a=r.pathname,u=r.search,s=r.hash,f=a+u+s;return i&&(f=(0,c.stripPrefix)(f,i)),{path:f,state:o,key:e}},O=function(){return Math.random().toString(36).substr(2,x)},b=P(y()),L={action:"POP",location:b,allKeys:[b.key]},E=(0,f["default"])(),_=function(n){r(L,n),E.transitionTo(L.location,L.action)},k=function(n){void 0!==n.state&&A(P(n.state))},T=function(){A(P(y()))},M=!1,A=function(n){M?(M=!1,_()):!function(){var t="POP";E.confirmTransitionTo(n,t,w,function(e){e?_({action:t,location:n}):S(n)})}()},S=function(n){var t=L.location,e=L.allKeys,o=e.indexOf(t.key);o===-1&&(o=0);var r=e.indexOf(n.key);r===-1&&(r=0);var i=o-r;i&&(M=!0,U(i))},H=function(){return L.location||P(y())},C=function(n,e){var o="PUSH",r=O(),a={path:n,state:e,key:r};E.confirmTransitionTo(a,o,w,function(u){if(u){var c=i+n;if(t)if(window.history.pushState({key:r,state:e},null,c),s)window.location.href=c;else{var f=L.allKeys,l=f.indexOf(L.location.key),d=f.slice(0,l===-1?0:l+1);d.push(a.key),_({action:o,location:a,allKeys:d})}else window.location.href=c}})},j=function(n,e){var o="REPLACE",r=O(),a={path:n,state:e,key:r};E.confirmTransitionTo(a,o,w,function(u){if(u){var c=i+n;if(t)if(window.history.replaceState({key:r,state:e},null,c),s)window.location.replace(c);else{var f=L.allKeys.slice(0),l=f.indexOf(L.location.key);l!==-1&&(f[l]=a.key),_({action:o,location:a,allKeys:f})}else window.location.replace(c)}})},U=function(n){window.history.go(n)},I=function(){return U(-1)},K=function(){return U(1)},R=function(){var n=arguments.length<=0||void 0===arguments[0]?p:arguments[0];return E.setPrompt(n)},q=0,B=function(n){q+=n,1===q?((0,d.addEventListener)(window,h,k),e&&(0,d.addEventListener)(window,v,T)):0===q&&((0,d.removeEventListener)(window,h,k),e&&(0,d.removeEventListener)(window,v,T))},F=function(n){var t=E.appendListener(n);return B(1),function(){return B(-1),t()}};return{getCurrentLocation:H,push:C,replace:j,go:U,goBack:I,goForward:K,block:R,listen:F}};t["default"]=g},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(3),a=(o(i),e(2)),u=o(a),c=e(6),s=e(7),f=e(1),l=o(f),d=e(5),h=e(4),v="hashchange",p=function(){return!1},y={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+(0,s.stripLeadingSlash)(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:s.stripLeadingSlash,decodePath:s.addLeadingSlash},slash:{encodePath:s.addLeadingSlash,decodePath:s.addLeadingSlash}},g=function(){var n=window.location.href,t=n.indexOf("#");return t===-1?"":n.substring(t+1)},w=function(n){return window.location.hash=n},m=function(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+n)},x=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];d.canUseDOM?void 0:(0,u["default"])(!1);var t=((0,h.supportsGoWithoutReloadUsingHash)(),n.basename),e=void 0===t?"":t,o=n.getUserConfirmation,i=void 0===o?h.getConfirmation:o,a=n.hashType,f=void 0===a?"slash":a,x=y[f],P=x.encodePath,O=x.decodePath,b=function(){var n=O(g());return e&&(n=(0,s.stripPrefix)(n,e)),{path:n}},L=g(),E=P(L);L!==E&&m(E);var _=b(),k={action:"POP",location:_,allPaths:[_.path]},T=(0,l["default"])(),M=function(n){r(k,n),T.transitionTo(k.location,k.action)},A=!1,S=null,H=function(){var n=g(),t=P(n);if(n!==t)m(t);else{var e=b(),o=k.location;if(!A&&(0,c.locationsAreEqual)(o,e))return;if(S===e.path)return;S=null,C(e)}},C=function(n){A?(A=!1,M()):!function(){var t="POP";T.confirmTransitionTo(n,t,i,function(e){e?M({action:t,location:n}):j(n)})}()},j=function(n){var t=k.location,e=k.allPaths,o=e.lastIndexOf(t.path);o===-1&&(o=0);var r=e.lastIndexOf(n.path);r===-1&&(r=0);var i=o-r;i&&(A=!0,R(i))},U=function(){return k.location||b()},I=function(n,t){var o="PUSH",r={path:n};T.confirmTransitionTo(r,o,i,function(t){if(t){var i=P(e+n),a=g()!==i;a&&(S=n,w(i));var u=k.allPaths,c=u.lastIndexOf(k.location.path),s=u.slice(0,c===-1?0:c+1);s.push(r.path),M({action:o,location:r,allPaths:s})}})},K=function(n,t){var o="REPLACE",r={path:n};T.confirmTransitionTo(r,o,i,function(t){if(t){var i=P(e+n),a=g()!==i;a&&(S=n,m(i));var u=k.allPaths.slice(0),c=u.indexOf(k.location.path);c!==-1&&(u[c]=r.path),M({action:o,location:r,allPaths:u})}})},R=function(n){window.history.go(n)},q=function(){return R(-1)},B=function(){return R(1)},F=function(){var n=arguments.length<=0||void 0===arguments[0]?p:arguments[0];return T.setPrompt(n)},D=0,G=function(n){D+=n,1===D?(0,h.addEventListener)(window,v,H):0===D&&(0,h.removeEventListener)(window,v,H)},W=function(n){var t=T.appendListener(n);return G(1),function(){return G(-1),t()}};return{getCurrentLocation:U,push:I,replace:K,go:R,goBack:q,goForward:B,block:F,listen:W}};t["default"]=x},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(1),a=o(i),u=function(){return!1},c=function(n,t,e){return Math.min(Math.max(n,t),e)},s=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.getUserConfirmation,e=n.initialEntries,o=void 0===e?["/"]:e,i=n.initialIndex,s=void 0===i?0:i,f=n.keyLength,l=void 0===f?6:f,d=o.map(function(n){return"string"==typeof n?{path:n}:n}),h={prevIndex:null,action:"POP",index:c(s,0,d.length-1),entries:d},v=(0,a["default"])(),p=function(n){r(h,n),v.transitionTo(g(),h.action)},y=function(){return Math.random().toString(36).substr(2,l)},g=function(){return h.entries[h.index]},w=function(n,e){var o="PUSH",r=y(),i={path:n,state:e,key:r};v.confirmTransitionTo(i,o,t,function(n){if(n){var t=h.index,e=t+1,r=h.entries.slice(0);r.length>e?r.splice(e,r.length-e,i):r.push(i),p({prevIndex:h.index,action:o,index:e,entries:r})}})},m=function(n,e){var o="REPLACE",r=y(),i={path:n,state:e,key:r};v.confirmTransitionTo(i,o,t,function(n){if(n){var t=h.index,e=h.entries.slice(0);e[t]=i,p({prevIndex:h.index,action:o,entries:e})}})},x=function(n){var e=h.index,o=h.entries,r=c(e+n,0,o.length-1),i="POP",a=o[r];v.confirmTransitionTo(a,i,t,function(n){n?p({prevIndex:e,action:i,index:r}):p()})},P=function(){return x(-1)},O=function(){return x(1)},b=function(n){var t=h.index,e=h.entries,o=t+n;return o>=0&&o<e.length},L=function(){var n=arguments.length<=0||void 0===arguments[0]?u:arguments[0];return v.setPrompt(n)},E=function(n){return v.appendListener(n)};return{getCurrentLocation:g,push:w,replace:m,go:x,goBack:P,goForward:O,canGo:b,block:L,listen:E}};t["default"]=s}])});