{"ast":null,"code":"import axios from 'axios';\nimport { BehaviorSubject } from 'rxjs';\nconst API_URL = 'http://host.docker.internal:8090/user/';\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\n\nclass UserService {\n  get currentUserValue() {\n    return currentUserSubject.value;\n  }\n\n  get currentUser() {\n    return currentUserSubject.asObservable();\n  }\n\n  login(user) {\n    const headers = {\n      authorization: 'Basic ' + btoa(user.username + ':' + user.password),\n      'Access-Control-Allow-Origin': '*'\n    };\n    return axios.get(API_URL + 'login', {\n      headers: headers\n    }).then(response => {\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\n      currentUserSubject.next(response.data);\n    });\n  }\n\n  loginUser(username, password) {\n    const headers = {\n      authorization: 'Basic ' + btoa(username + ':' + password),\n      'Access-Control-Allow-Origin': '*'\n    };\n    return axios.get(API_URL + 'login', {\n      headers: headers\n    }).then(response => {\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\n      currentUserSubject.next(response.data);\n    });\n  }\n\n  logOut() {\n    return axios.post(API_URL + 'logout', {}).then(response => {\n      localStorage.removeItem('currentUser');\n      currentUserSubject.next(null);\n    });\n  }\n\n  register(user) {\n    const headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n      'Access-Control-Allow-Origin': '*'\n    };\n    return axios.post(API_URL + 'registration', JSON.stringify(user), {\n      headers: headers\n    });\n  }\n\n}\n\nexport default new UserService();","map":{"version":3,"names":["axios","BehaviorSubject","API_URL","currentUserSubject","JSON","parse","localStorage","getItem","UserService","currentUserValue","value","currentUser","asObservable","login","user","headers","authorization","btoa","username","password","get","then","response","setItem","stringify","data","next","loginUser","logOut","post","removeItem","register"],"sources":["D:/News-App-capstone/news-ui/src/services/user.service.js"],"sourcesContent":["import axios from 'axios';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\nconst API_URL = 'http://host.docker.internal:8090/user/';\r\n\r\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\r\nclass UserService {\r\n  get currentUserValue(){\r\n    return currentUserSubject.value;\r\n  }\r\n\r\n  get currentUser(){\r\n    return currentUserSubject.asObservable();\r\n  }\r\n\r\n  login(user){\r\n    const headers = {\r\n      authorization:'Basic ' + btoa(user.username + ':' + user.password),\r\n      'Access-Control-Allow-Origin': '*'\r\n    };\r\n    return axios.get(API_URL + 'login', {headers: headers}).then(response => {\r\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\r\n      currentUserSubject.next(response.data);\r\n    });\r\n  }\r\n  loginUser(username,password){\r\n    const headers = {\r\n      authorization:'Basic ' + btoa(username + ':' + password),\r\n      'Access-Control-Allow-Origin': '*'\r\n    };\r\n    return axios.get(API_URL + 'login', {headers: headers}).then(response => {\r\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\r\n      currentUserSubject.next(response.data);\r\n    });\r\n  }\r\n\r\n  logOut(){\r\n    return axios.post(API_URL + 'logout', {}).then(response => {\r\n      localStorage.removeItem('currentUser');\r\n      currentUserSubject.next(null);\r\n    })\r\n  }\r\n\r\n  register(user){\r\n    const headers = {\r\n        'Content-Type':'application/json; charset=UTF-8',\r\n        'Access-Control-Allow-Origin': '*'\r\n      };\r\n\r\n    return axios.post(API_URL + 'registration', JSON.stringify(user),\r\n    {headers: headers});\r\n  }\r\n\r\n}\r\n\r\nexport default new UserService();"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,eAAR,QAA8B,MAA9B;AAEA,MAAMC,OAAO,GAAG,wCAAhB;AAEA,MAAMC,kBAAkB,GAAG,IAAIF,eAAJ,CAAoBG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB,CAA3B;;AACA,MAAMC,WAAN,CAAkB;EACI,IAAhBC,gBAAgB,GAAE;IACpB,OAAON,kBAAkB,CAACO,KAA1B;EACD;;EAEc,IAAXC,WAAW,GAAE;IACf,OAAOR,kBAAkB,CAACS,YAAnB,EAAP;EACD;;EAEDC,KAAK,CAACC,IAAD,EAAM;IACT,MAAMC,OAAO,GAAG;MACdC,aAAa,EAAC,WAAWC,IAAI,CAACH,IAAI,CAACI,QAAL,GAAgB,GAAhB,GAAsBJ,IAAI,CAACK,QAA5B,CADf;MAEd,+BAA+B;IAFjB,CAAhB;IAIA,OAAOnB,KAAK,CAACoB,GAAN,CAAUlB,OAAO,GAAG,OAApB,EAA6B;MAACa,OAAO,EAAEA;IAAV,CAA7B,EAAiDM,IAAjD,CAAsDC,QAAQ,IAAI;MACvEhB,YAAY,CAACiB,OAAb,CAAqB,aAArB,EAAoCnB,IAAI,CAACoB,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAApC;MACAtB,kBAAkB,CAACuB,IAAnB,CAAwBJ,QAAQ,CAACG,IAAjC;IACD,CAHM,CAAP;EAID;;EACDE,SAAS,CAACT,QAAD,EAAUC,QAAV,EAAmB;IAC1B,MAAMJ,OAAO,GAAG;MACdC,aAAa,EAAC,WAAWC,IAAI,CAACC,QAAQ,GAAG,GAAX,GAAiBC,QAAlB,CADf;MAEd,+BAA+B;IAFjB,CAAhB;IAIA,OAAOnB,KAAK,CAACoB,GAAN,CAAUlB,OAAO,GAAG,OAApB,EAA6B;MAACa,OAAO,EAAEA;IAAV,CAA7B,EAAiDM,IAAjD,CAAsDC,QAAQ,IAAI;MACvEhB,YAAY,CAACiB,OAAb,CAAqB,aAArB,EAAoCnB,IAAI,CAACoB,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAApC;MACAtB,kBAAkB,CAACuB,IAAnB,CAAwBJ,QAAQ,CAACG,IAAjC;IACD,CAHM,CAAP;EAID;;EAEDG,MAAM,GAAE;IACN,OAAO5B,KAAK,CAAC6B,IAAN,CAAW3B,OAAO,GAAG,QAArB,EAA+B,EAA/B,EAAmCmB,IAAnC,CAAwCC,QAAQ,IAAI;MACzDhB,YAAY,CAACwB,UAAb,CAAwB,aAAxB;MACA3B,kBAAkB,CAACuB,IAAnB,CAAwB,IAAxB;IACD,CAHM,CAAP;EAID;;EAEDK,QAAQ,CAACjB,IAAD,EAAM;IACZ,MAAMC,OAAO,GAAG;MACZ,gBAAe,iCADH;MAEZ,+BAA+B;IAFnB,CAAhB;IAKA,OAAOf,KAAK,CAAC6B,IAAN,CAAW3B,OAAO,GAAG,cAArB,EAAqCE,IAAI,CAACoB,SAAL,CAAeV,IAAf,CAArC,EACP;MAACC,OAAO,EAAEA;IAAV,CADO,CAAP;EAED;;AA7Ce;;AAiDlB,eAAe,IAAIP,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}