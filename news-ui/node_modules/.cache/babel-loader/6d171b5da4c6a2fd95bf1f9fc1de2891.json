{"ast":null,"code":"var _jsxFileName = \"D:\\\\News-App-capstone\\\\news-ui\\\\src\\\\Components\\\\register\\\\Register.js\";\nimport React from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport UserService from '../../services/user.service';\nimport { User } from '../../models/user';\nimport { withRouter } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport Form from 'react-bootstrap/Form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Register extends React.Component {\n  constructor(props) {\n    super(props);\n    const history = useHistory();\n\n    if (UserService.currentUserValue) {\n      history.push('/');\n    }\n\n    this.state = {\n      user: new User('', '', ''),\n      submitted: false,\n      loading: false,\n      errorMessage: ''\n    };\n  }\n\n  handleChange(e) {\n    var {\n      name,\n      value\n    } = e.target;\n    var user = this.state.user;\n    user[name] = value;\n    this.setState({\n      user: user\n    });\n  }\n\n  handleRegister(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      user\n    } = this.state;\n\n    if (!(user.username && user.password && user.firstname && user.lastname)) {\n      return;\n    }\n\n    this.setState({\n      loading: true\n    });\n    UserService.register(user).then(data => {\n      history.push('/');\n    }, error => {\n      if (error.response.status === 409) {\n        this.setState({\n          errorMessage: \"Username is not available\",\n          loading: false\n        });\n      } else {\n        this.setState({\n          errorMessage: \"Unexpected error occurred.\",\n          loading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      user,\n      submitted,\n      loading,\n      errorMessage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex justify-content-center align-items-center \",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          col: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-dark text-white my-5 mx-auto\",\n            style: {\n              borderRadius: '1rem',\n              maxWidth: '400px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              className: \"p-5 d-flex flex-column align-items-center mx-auto w-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"fw-bold mb-2 text-uppercase\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white-50 mb-5\",\n                children: \"Please  fill your details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"mb-4 mx-5 w-100\",\n                type: \"text\",\n                placeholder: \"First name\",\n                size: \"lg\",\n                name: \"firstname\",\n                value: user.firstname,\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"mb-4 mx-5 w-100\",\n                type: \"text\",\n                placeholder: \"Last name\",\n                size: \"lg\",\n                name: \"lastname\",\n                value: user.lastname,\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"mb-4 mx-5 w-100\",\n                type: \"text\",\n                placeholder: \"username\",\n                name: \"username\",\n                value: user.username,\n                onChange: e => this.handleChange(e),\n                size: \"lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"mb-4 mx-5 w-100\",\n                type: \"password\",\n                placeholder: \"password\",\n                name: \"password\",\n                value: user.password,\n                onChange: e => this.handleChange(e),\n                size: \"lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                outline: true,\n                className: \"mx-2 px-5\",\n                color: \"white\",\n                size: \"lg\",\n                onClick: e => this.handleRegister(e),\n                disabled: loading,\n                children: \"Create Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Button","Card","UserService","User","withRouter","useHistory","Row","Col","Container","Form","Register","Component","constructor","props","history","currentUserValue","push","state","user","submitted","loading","errorMessage","handleChange","e","name","value","target","setState","handleRegister","preventDefault","username","password","firstname","lastname","register","then","data","error","response","status","render","borderRadius","maxWidth"],"sources":["D:/News-App-capstone/news-ui/src/Components/register/Register.js"],"sourcesContent":["import React from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport UserService from '../../services/user.service';\r\nimport {User} from '../../models/user';\r\nimport {withRouter} from 'react-router-dom'\r\nimport { useHistory } from 'react-router-dom';\r\nimport {  Row, Col, Container } from \"react-bootstrap\";\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nexport default class Register extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    const history = useHistory();\r\n\r\n    if(UserService.currentUserValue) {\r\n      history.push('/');\r\n    }\r\n\r\n    this.state = {\r\n      user: new User('','',''),\r\n      submitted: false,\r\n      loading: false,\r\n      errorMessage: ''\r\n    };\r\n  }\r\n\r\n  handleChange(e) {\r\n    var { name, value } = e.target;\r\n    var user = this.state.user;\r\n    user[name] = value;\r\n    this.setState({user: user});\r\n  }\r\n\r\n  handleRegister(e) {\r\n  \r\n    e.preventDefault();\r\n    this.setState({submitted: true});\r\n    const{user} = this.state;\r\n\r\n    if(!(user.username && user.password && user.firstname && user.lastname)) {\r\n      return;\r\n    }\r\n\r\n    this.setState({loading: true});\r\n    UserService.register(user).then(data => { \r\n      history.push('/');\r\n    }, error => {\r\n      if(error.response.status === 409) {\r\n        this.setState({\r\n          errorMessage: \"Username is not available\",\r\n          loading: false\r\n        });\r\n      }else {\r\n        this.setState({\r\n          errorMessage: \"Unexpected error occurred.\",\r\n          loading: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {user, submitted, loading, errorMessage} = this.state;\r\n  return (\r\n    <Container className=\"container-fluid\" >\r\n\r\n    <Row className='d-flex justify-content-center align-items-center '>\r\n      <Col col='12'>\r\n\r\n        <Card className='bg-dark text-white my-5 mx-auto' style={{borderRadius: '1rem', maxWidth: '400px'}}>\r\n          <Card.Body className='p-5 d-flex flex-column align-items-center mx-auto w-100'>\r\n\r\n            <h2 className=\"fw-bold mb-2 text-uppercase\">Register</h2>\r\n            <p className=\"text-white-50 mb-5\">Please  fill your details</p>\r\n \r\n            <Form.Control className=\"mb-4 mx-5 w-100\" type=\"text\" placeholder=\"First name\"  size=\"lg\" name=\"firstname\" value={user.firstname} onChange={(e)=>this.handleChange(e)} />\r\n            <Form.Control className=\"mb-4 mx-5 w-100\" type=\"text\" placeholder=\"Last name\"  size=\"lg\" name=\"lastname\" value={user.lastname} onChange={(e)=>this.handleChange(e)} />\r\n  \r\n            <Form.Control className=\"mb-4 mx-5 w-100\" type=\"text\" placeholder=\"username\"  name=\"username\" value={user.username} onChange={(e)=>this.handleChange(e)} size=\"lg\" />\r\n     \r\n            <Form.Control className=\"mb-4 mx-5 w-100\" type=\"password\" placeholder=\"password\" name=\"password\" value={user.password} onChange={(e)=>this.handleChange(e)} size=\"lg\" />\r\n          \r\n            <br />\r\n\r\n\r\n            <Button outline className='mx-2 px-5' color='white' size='lg' onClick={(e) => this.handleRegister(e)} disabled={loading}>\r\n              Create Account\r\n            </Button>\r\n\r\n          </Card.Body>\r\n        </Card>\r\n\r\n      </Col>\r\n    </Row>\r\n\r\n  </Container>\r\n  )\r\n}\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}